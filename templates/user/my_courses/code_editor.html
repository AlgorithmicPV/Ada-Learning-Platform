{% extends 'user/base.html' %}
{% block title %}
    Code Editor for {{ language
    }}
{% endblock %}
{% block extra_css %}
    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/user/my_courses/code_editor.css') }}" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.0/min/vs/loader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
{% endblock %}
{% block content %}
    <!--Code Playground-->
    <div class="code-editor-wrapper">
        <!--Top Bar of the code editor-->
        <div class="code-editor-top-bar">
            <p>{{ language }} Code Editor</p>
            <button class="run">Run</button>
        </div>
        <!--End of the top bar-->
        <!--code editor with output terminal-->
        <div class="coding-env">
            <div class="code-editor"></div>
            <div class="terminal">
                <!--Output Terminal-->
                <div class="output-wrapper"></div>
                <!--End of Output Terminal-->
                <!--AI Assistance chat-->
                <div class="ai-assistance-wrapper">
                    <div class="chat-content"></div>
                    <div class="chat-input-wrapper">
                        <input autocomplete="off"
                               type="text"
                               name="user-input"
                               id="user-input"
                               placeholder="Have a Problem. Ask from here" />
                        <button class="send-btn">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 id="Outline"
                                 viewBox="0 0 24 24"
                                 width="512"
                                 height="512">
                                <path d="M23.119.882a2.966,2.966,0,0,0-2.8-.8l-16,3.37a4.995,4.995,0,0,0-2.853,8.481L3.184,13.65a1,1,0,0,1,.293.708v3.168a2.965,2.965,0,0,0,.3,1.285l-.008.007.026.026A3,3,0,0,0,5.157,20.2l.026.026.007-.008a2.965,2.965,0,0,0,1.285.3H9.643a1,1,0,0,1,.707.292l1.717,1.717A4.963,4.963,0,0,0,15.587,24a5.049,5.049,0,0,0,1.605-.264,4.933,4.933,0,0,0,3.344-3.986L23.911,3.715A2.975,2.975,0,0,0,23.119.882ZM4.6,12.238,2.881,10.521a2.94,2.94,0,0,1-.722-3.074,2.978,2.978,0,0,1,2.5-2.026L20.5,2.086,5.475,17.113V14.358A2.978,2.978,0,0,0,4.6,12.238Zm13.971,7.17a3,3,0,0,1-5.089,1.712L11.762,19.4a2.978,2.978,0,0,0-2.119-.878H6.888L21.915,3.5Z" />
                            </svg>
                        </button>
                    </div>
                </div>
                <!--End of AI Assistance chat-->
                <div class="input-wrapper">
                    <textarea id="stdin"
                              placeholder="Enter values just like terminal input (works perfectly in Python)"></textarea>
                </div>
                <!--Vertical Navigation Bar for switching between output and AI assistance-->
                <div class="vertical-nav-bar">
                    <button class="btn-to-show-output active-btn">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             id="Layer_1"
                             data-name="Layer 1"
                             viewBox="0 0 24 24"
                             width="512"
                             height="512">
                            <path d="M5.374,18.455c-.256,0-.512-.098-.707-.293-.391-.391-.391-1.023,0-1.414l4.041-4.041c.39-.39,.39-1.024,0-1.414L4.667,7.252c-.391-.391-.391-1.023,0-1.414s1.023-.391,1.414,0l4.041,4.041c1.17,1.17,1.17,3.072,0,4.242l-4.041,4.041c-.195,.195-.451,.293-.707,.293Zm18.626,.545V5c0-2.757-2.243-5-5-5H5C2.243,0,0,2.243,0,5v14c0,2.757,2.243,5,5,5h14c2.757,0,5-2.243,5-5ZM19,2c1.654,0,3,1.346,3,3v14c0,1.654-1.346,3-3,3H5c-1.654,0-3-1.346-3-3V5c0-1.654,1.346-3,3-3h14Zm1,15c0-.553-.447-1-1-1h-7c-.552,0-1,.447-1,1s.448,1,1,1h7c.553,0,1-.447,1-1Z" />
                        </svg>
                    </button>
                    <button class="btn-to-show-ai-assistance">
                        <svg id="Layer_1"
                             height="512"
                             viewBox="0 0 24 24"
                             width="512"
                             xmlns="http://www.w3.org/2000/svg"
                             data-name="Layer 1">
                            <path d="m18 9.064a3.049 3.049 0 0 0 -.9-2.164 3.139 3.139 0 0 0 -4.334 0l-11.866 11.869a3.064 3.064 0 0 0 4.33 4.331l11.87-11.869a3.047 3.047 0 0 0 .9-2.167zm-14.184 12.624a1.087 1.087 0 0 1 -1.5 0 1.062 1.062 0 0 1 0-1.5l7.769-7.77 1.505 1.505zm11.872-11.872-2.688 2.689-1.5-1.505 2.689-2.688a1.063 1.063 0 1 1 1.5 1.5zm-10.825-6.961 1.55-.442.442-1.55a1.191 1.191 0 0 1 2.29 0l.442 1.55 1.55.442a1.191 1.191 0 0 1 0 2.29l-1.55.442-.442 1.55a1.191 1.191 0 0 1 -2.29 0l-.442-1.55-1.55-.442a1.191 1.191 0 0 1 0-2.29zm18.274 14.29-1.55.442-.442 1.55a1.191 1.191 0 0 1 -2.29 0l-.442-1.55-1.55-.442a1.191 1.191 0 0 1 0-2.29l1.55-.442.442-1.55a1.191 1.191 0 0 1 2.29 0l.442 1.55 1.55.442a1.191 1.191 0 0 1 0 2.29zm-5.382-14.645 1.356-.387.389-1.358a1.042 1.042 0 0 1 2 0l.387 1.356 1.356.387a1.042 1.042 0 0 1 0 2l-1.356.387-.387 1.359a1.042 1.042 0 0 1 -2 0l-.387-1.355-1.358-.389a1.042 1.042 0 0 1 0-2z" />
                        </svg>
                    </button>
                    <button class="btn-to-show-input">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             id="Layer_1"
                             data-name="Layer 1"
                             viewBox="0 0 24 24">
                            <path d="M24,8v8c0,2.757-2.243,5-5,5h-7c-.552,0-1-.447-1-1s.448-1,1-1h7c1.654,0,3-1.346,3-3V8c0-1.654-1.346-3-3-3h-7c-.552,0-1-.448-1-1s.448-1,1-1h7c2.757,0,5,2.243,5,5Zm-8,9c.553,0,1-.447,1-1v-7h2c.553,0,1-.448,1-1s-.447-1-1-1h-6c-.552,0-1,.448-1,1s.448,1,1,1h2v7c0,.553,.447,1,1,1Zm-6,5c-.551,0-1-.448-1-1V3c0-.551,.449-1,1-1s1-.448,1-1-.448-1-1-1c-.771,0-1.468,.301-2,.78-.532-.48-1.229-.78-2-.78-.552,0-1,.448-1,1s.448,1,1,1,1,.449,1,1V21c0,.552-.449,1-1,1s-1,.447-1,1,.448,1,1,1c.771,0,1.468-.301,2-.78,.532,.48,1.229,.78,2,.78,.552,0,1-.447,1-1s-.448-1-1-1ZM4.249,5.094c.535-.137,.857-.683,.719-1.217-.137-.535-.681-.858-1.217-.719C1.542,3.726,0,5.717,0,8v8c0,2.282,1.542,4.273,3.75,4.843,.084,.021,.167,.031,.25,.031,.445,0,.852-.3,.968-.751,.138-.534-.184-1.08-.719-1.218-1.325-.341-2.25-1.535-2.25-2.905V8c0-1.37,.925-2.565,2.249-2.906Z" />
                        </svg>
                    </button>
                </div>
                <!--End of Vertical Navigation Bar-->
            </div>
        </div>
        <!--End of code editor with output terminal-->
    </div>
    <!--End of Code Playground-->
{% endblock %}
{% block extra_js %}
    <!--Code Editor Configuration of Monaco Editor-->
    <script>
  require.config({
    paths: {
      vs: "https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.0/min/vs",
    },
  });
    </script>
    <script>
  let language = "{{ language }}";
  language = language.toLowerCase();
    </script>
    <script>
  let fetch_url = '{{ url_for("compiler.compiler") }}';
  let chat_url = '{{ url_for("ai_chat.chat")  }}';
    </script>
    <script type="module"
            src="{{ url_for('static', filename = 'js/user/my_courses/code_editor.js')}}"></script>
{% endblock %}
