{% extends 'user/community/community_base.html' %}
{% block title %}
    Community -
    discussions
{% endblock %}
{% block extra_css %}
    {{ super() }}
    <link rel="stylesheet"
          href="{{ url_for('static', filename = 'css/user/community/discussions.css') }}" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/atom-one-dark.min.css" />
{% endblock %}
{% block discussions_cont %}
    <ul class="nested">
        <li>
            <div class="question-card">
                <img src="{{ url_for('static', filename= question_detail[3]) }}"
                     alt="profile-pic" />
                <div class="question-card-cont">
                    <div class="question-card-top-bar">
                        <div>
                            <p class="writer">{{ question_detail[2] }}</p>
                            <p class="time">{{ question_detail[1] }}</p>
                        </div>
                        <button class="save-btn">
                            {% if question_detail[4] == "saved" %}
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     id="Filled"
                                     viewBox="0 0 24 24"
                                     width="512"
                                     height="512">
                                    <path d="M2.849,23.55a2.954,2.954,0,0,0,3.266-.644L12,17.053l5.885,5.853a2.956,2.956,0,0,0,2.1.881,3.05,3.05,0,0,0,1.17-.237A2.953,2.953,0,0,0,23,20.779V5a5.006,5.006,0,0,0-5-5H6A5.006,5.006,0,0,0,1,5V20.779A2.953,2.953,0,0,0,2.849,23.55Z" />
                                </svg>
                            {% else %}
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     id="Outline"
                                     viewBox="0 0 24 24"
                                     width="512"
                                     height="512">
                                    <path d="M20.137,24a2.8,2.8,0,0,1-1.987-.835L12,17.051,5.85,23.169a2.8,2.8,0,0,1-3.095.609A2.8,2.8,0,0,1,1,21.154V5A5,5,0,0,1,6,0H18a5,5,0,0,1,5,5V21.154a2.8,2.8,0,0,1-1.751,2.624A2.867,2.867,0,0,1,20.137,24ZM6,2A3,3,0,0,0,3,5V21.154a.843.843,0,0,0,1.437.6h0L11.3,14.933a1,1,0,0,1,1.41,0l6.855,6.819a.843.843,0,0,0,1.437-.6V5a3,3,0,0,0-3-3Z" />
                                </svg>
                            {% endif %}
                        </button>
                    </div>
                    <div class="question">{{ question_detail[0] | safe }}</div>
                    <div class="number-of-answers-wrapper">
                        <p class="number-of-answers">{{ question_detail[5] }}</p>
                        <svg xmlns="http://www.w3.org/2000/svg"
                             id="Layer_1"
                             data-name="Layer 1"
                             viewBox="0 0 24 24"
                             width="512"
                             height="512">
                            <path d="M12.85,.03C9.38-.21,5.97,1.06,3.51,3.52,1.06,5.97-.21,9.38,.03,12.85c.43,6.25,5.84,11.15,12.31,11.15h6.66c2.94,0,5-2.4,5-5.85v-5.82C24,5.87,19.1,.46,12.85,.03Zm9.15,18.12c0,2.3-1.21,3.85-3,3.85h-6.66c-5.42,0-9.95-4.08-10.31-9.28-.2-2.9,.86-5.74,2.9-7.79,1.88-1.88,4.43-2.93,7.09-2.93,.23,0,.47,0,.7,.02,5.21,.36,9.28,4.89,9.28,10.31v5.82Z" />
                        </svg>
                    </div>
                </div>
            </div>
        </li>
    </ul>
{% endblock %}
{% block floatingItems %}
    <div class="user-answer-input-wrapper">
        <textarea class="user-answer-input-box" placeholder="Enter your response here."></textarea>
        <button class="send-user-answer-btn">
            <svg xmlns="http://www.w3.org/2000/svg"
                 id="Outline"
                 viewBox="0 0 24 24"
                 width="512"
                 height="512">
                <path d="M23.119.882a2.966,2.966,0,0,0-2.8-.8l-16,3.37a4.995,4.995,0,0,0-2.853,8.481L3.184,13.65a1,1,0,0,1,.293.708v3.168a2.965,2.965,0,0,0,.3,1.285l-.008.007.026.026A3,3,0,0,0,5.157,20.2l.026.026.007-.008a2.965,2.965,0,0,0,1.285.3H9.643a1,1,0,0,1,.707.292l1.717,1.717A4.963,4.963,0,0,0,15.587,24a5.049,5.049,0,0,0,1.605-.264,4.933,4.933,0,0,0,3.344-3.986L23.911,3.715A2.975,2.975,0,0,0,23.119.882ZM4.6,12.238,2.881,10.521a2.94,2.94,0,0,1-.722-3.074,2.978,2.978,0,0,1,2.5-2.026L20.5,2.086,5.475,17.113V14.358A2.978,2.978,0,0,0,4.6,12.238Zm13.971,7.17a3,3,0,0,1-5.089,1.712L11.762,19.4a2.978,2.978,0,0,0-2.119-.878H6.888L21.915,3.5Z" />
            </svg>
        </button>
    </div>
{% endblock %}
{% block extra_js %}
    {{ super() }}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/go.min.js"></script>
    <script>
  const getAnswersUrl = "{{ url_for("community.get_answers") }}";
  const addAnswersUrl = "{{ url_for("community.add_answers") }}";
  const toggleSaveUrl = "{{ url_for("community.toggle_save") }}";
  const STATIC_BASE = "{{ url_for('static', filename='') }}";
  const questionId = "{{ question_detail[6] }}";
  const toggleLikeUrl = "{{ url_for("community.toggle_like") }}";
  const numberOfanswersUrl = "{{ url_for("community.get_number_of_answers")  }}";
  hljs.highlightAll();
    </script>
    <script src="{{ url_for('static', filename='js/user/community/discussions.js') }}"></script>
{% endblock %}
